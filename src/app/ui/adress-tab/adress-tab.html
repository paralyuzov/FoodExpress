<div class="p-6 font-pt-sans bg-neutral-900">
  <div class="flex justify-between items-center mb-6">
    <h3 class="text-xl font-semibold text-white">Delivery Addresses</h3>
    <button
      (click)="showAddressForm()"
      class="px-4 py-2 bg-amber-500 hover:bg-amber-600 text-slate-900 font-semibold rounded-lg transition-colors duration-200 flex items-center gap-2"
    >
      <i class="pi pi-plus"></i>
      Add New Address
    </button>
  </div>

  @if (userAddresses(); as addresses) { @if (addresses.length === 0) {
  <div class="text-center py-12">
    <div
      class="w-20 h-20 bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4"
    >
      <i class="pi pi-map-marker text-3xl text-slate-500"></i>
    </div>
    <h4 class="text-lg font-semibold text-slate-300 mb-2">No addresses yet</h4>
    <p class="text-slate-400 mb-6">Add your delivery addresses to make ordering easier!</p>
    <button
      class="px-6 py-3 bg-amber-500 hover:bg-amber-600 text-slate-900 font-semibold rounded-lg transition-colors duration-200"
    >
      Add Your First Address
    </button>
  </div>
  } @else {
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    @for (address of addresses; track address.id) {
    <div
      class="address-card bg-neutral-800/50 rounded-xl p-6 border border-slate-700/50 hover:border-slate-600/50 transition-all duration-200"
    >
      <div class="flex justify-between items-start mb-4">
        <div class="flex items-center gap-2">
          <i class="pi pi-map-marker text-amber-400"></i>
          @if (address.isDefault) {
          <span class="px-2 py-1 bg-amber-500/20 text-amber-300 rounded-full text-xs font-semibold">
            Default
          </span>
          }
        </div>
        <div class="flex gap-2">
          <button
            (click)="openUpdateAddressForm(address)"
            class="action-button p-2 text-slate-400 hover:text-amber-400 hover:bg-neutral-700/50 rounded-lg transition-colors"
            title="Edit address"
          >
            <i class="pi pi-pencil text-sm"></i>
          </button>
        </div>
      </div>

      <div class="space-y-2 mb-4">
        <p class="text-white font-medium">{{ address.street }}</p>
        <p class="text-slate-300 text-sm">
          {{ address.city }}, {{ address.state }} {{ address.zipCode }}
        </p>
        <p class="text-slate-400 text-sm">{{ address.country }}</p>
        @if (address.instructions) {
        <div class="mt-3 p-3 bg-neutral-700/30 rounded-lg">
          <p class="text-slate-300 text-sm">
            <i class="pi pi-info-circle text-amber-400 mr-2"></i>
            {{ address.instructions }}
          </p>
        </div>
        }
      </div>

    </div>
    }
  </div>
  } } @else {
  <div class="flex justify-center items-center py-12">
    <div class="text-center">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-amber-400 mx-auto mb-4"></div>
      <p class="text-slate-400">Loading addresses...</p>
    </div>
  </div>
  }
</div>
